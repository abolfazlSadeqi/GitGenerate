@using Core
@using System.Globalization
@model GitInternalsModel
@{
    var lang = CultureInfo.CurrentCulture.TwoLetterISOLanguageName.ToUpper();
    var FA = lang == "FA";
}

<div class="container py-5">
  
    <ul class="nav nav-tabs" id="gitTab" role="tablist">
        @for (int i = 0; i < Model.Tabs.Count; i++)
        {
            var tab = Model.Tabs[i];
            <li class="nav-item" role="presentation">
                <button class="nav-link @(i == 0 ? "active" : "")"
                        id="@tab.Id-tab"
                        data-bs-toggle="tab"
                        data-bs-target="#@tab.Id"
                        type="button" role="tab">
                    @((FA) ? tab.TitleFa : tab.TitleEn)
                </button>
            </li>
        }
    </ul>

    <div class="tab-content mt-4">
        @for (int i = 0; i < Model.Tabs.Count; i++)
        {
            var tab = Model.Tabs[i];
            <div class="tab-pane fade @(i == 0 ? "show active" : "")" id="@tab.Id" role="tabpanel">
                <div class="p-3 bg-light rounded" style="max-height:600px;overflow:auto;">
                    @Html.Raw(FA ? tab.ContentFa : tab.ContentEn)
                </div>
            </div>
        }
    </div>
</div>

@section Scripts {
    <script>
        // Optional: Scroll to tab content top when switching
        const tabButtons = document.querySelectorAll('#gitTab button');
        tabButtons.forEach(btn => {
            btn.addEventListener('shown.bs.tab', function () {
                const target = document.querySelector(btn.getAttribute('data-bs-target'));
                target.scrollTop = 0;
            });
        });
    </script>
}
